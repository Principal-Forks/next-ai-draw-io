{
  "vv": {
    "name": "Next AI Draw.io Architecture",
    "version": "1.0.0",
    "nodeTypes": {
      "NextApp": {
        "description": "Next.js application entry point",
        "category": "framework",
        "shape": "rectangle",
        "color": "#0070f3"
      },
      "APIRoute": {
        "description": "Next.js API route",
        "category": "backend",
        "shape": "rectangle",
        "color": "#ff6b35"
      },
      "AIProvider": {
        "description": "AI provider integration",
        "category": "ai",
        "shape": "cloud",
        "color": "#10b981"
      },
      "Component": {
        "description": "React component",
        "category": "frontend",
        "shape": "rectangle",
        "color": "#8b5cf6"
      },
      "Context": {
        "description": "React context provider",
        "category": "frontend",
        "shape": "ellipse",
        "color": "#f59e0b"
      },
      "Monitoring": {
        "description": "Monitoring and analytics service",
        "category": "devops",
        "shape": "diamond",
        "color": "#ef4444"
      },
      "Database": {
        "description": "Data storage layer",
        "category": "backend",
        "shape": "cylinder",
        "color": "#3b82f6"
      }
    },
    "edgeTypes": {
      "Import": {
        "description": "Module import relationship",
        "category": "dependency",
        "color": "#6b7280"
      },
      "HTTPRequest": {
        "description": "HTTP request/response",
        "category": "communication",
        "color": "#dc2626"
      },
      "DataFlow": {
        "description": "Data flow between components",
        "category": "data",
        "color": "#059669"
      }
    }
  },
  "nodes": [
    {
      "id": "next-app",
      "type": "text",
      "x": 548,
      "y": 42,
      "width": 120,
      "height": 60,
      "vv": {
        "nodeType": "NextApp",
        "shape": "rectangle",
        "color": "#0070f3"
      },
      "text": "Next.js App",
      "properties": {
        "version": "16.0.7",
        "port": 6002
      }
    },
    {
      "id": "chat-api",
      "type": "text",
      "x": 193,
      "y": 245,
      "width": 100,
      "height": 60,
      "vv": {
        "nodeType": "APIRoute",
        "shape": "rectangle",
        "color": "#ff6b35"
      },
      "text": "Chat API",
      "properties": {
        "method": "POST",
        "path": "/api/chat"
      }
    },
    {
      "id": "config-api",
      "type": "text",
      "x": 395,
      "y": 270,
      "width": 100,
      "height": 60,
      "vv": {
        "nodeType": "APIRoute",
        "shape": "rectangle",
        "color": "#ff6b35"
      },
      "text": "Config API",
      "properties": {
        "method": "GET",
        "path": "/api/config"
      }
    },
    {
      "id": "verify-api",
      "type": "text",
      "x": 903,
      "y": -1,
      "width": 100,
      "height": 60,
      "vv": {
        "nodeType": "APIRoute",
        "shape": "rectangle",
        "color": "#ff6b35"
      },
      "text": "Verify API",
      "properties": {
        "method": "POST",
        "path": "/api/verify-access-code"
      }
    },
    {
      "id": "openai-provider",
      "type": "text",
      "x": -18,
      "y": 476,
      "width": 80,
      "height": 60,
      "vv": {
        "nodeType": "AIProvider",
        "shape": "cloud",
        "color": "#10b981"
      },
      "text": "OpenAI",
      "properties": {
        "provider": "openai",
        "model": "gpt-4"
      }
    },
    {
      "id": "anthropic-provider",
      "type": "text",
      "x": -252,
      "y": 476,
      "width": 80,
      "height": 60,
      "vv": {
        "nodeType": "AIProvider",
        "shape": "cloud",
        "color": "#10b981"
      },
      "text": "Anthropic",
      "properties": {
        "provider": "anthropic",
        "model": "claude-3-sonnet"
      }
    },
    {
      "id": "azure-provider",
      "type": "text",
      "x": 359,
      "y": 470,
      "width": 80,
      "height": 60,
      "vv": {
        "nodeType": "AIProvider",
        "shape": "cloud",
        "color": "#10b981"
      },
      "text": "Azure",
      "properties": {
        "provider": "azure",
        "model": "gpt-4"
      }
    },
    {
      "id": "aws-provider",
      "type": "text",
      "x": 542,
      "y": 470,
      "width": 80,
      "height": 60,
      "vv": {
        "nodeType": "AIProvider",
        "shape": "cloud",
        "color": "#10b981"
      },
      "text": "AWS",
      "properties": {
        "provider": "aws",
        "model": "bedrock"
      }
    },
    {
      "id": "chat-panel",
      "type": "text",
      "x": 188,
      "y": 132,
      "width": 100,
      "height": 60,
      "vv": {
        "nodeType": "Component",
        "shape": "rectangle",
        "color": "#8b5cf6"
      },
      "text": "Chat Panel",
      "properties": {
        "type": "chat"
      }
    },
    {
      "id": "chat-input",
      "type": "text",
      "x": 889,
      "y": 140,
      "width": 100,
      "height": 60,
      "vv": {
        "nodeType": "Component",
        "shape": "rectangle",
        "color": "#8b5cf6"
      },
      "text": "Chat Input",
      "properties": {
        "type": "input"
      }
    },
    {
      "id": "settings-dialog",
      "type": "text",
      "x": 376,
      "y": 158,
      "width": 100,
      "height": 60,
      "vv": {
        "nodeType": "Component",
        "shape": "rectangle",
        "color": "#8b5cf6"
      },
      "text": "Settings",
      "properties": {
        "type": "dialog"
      }
    },
    {
      "id": "diagram-context",
      "type": "text",
      "x": 536,
      "y": -48,
      "width": 120,
      "height": 40,
      "vv": {
        "nodeType": "Context",
        "shape": "ellipse",
        "color": "#f59e0b"
      },
      "text": "Diagram Context",
      "properties": {
        "name": "diagram"
      }
    },
    {
      "id": "langfuse",
      "type": "text",
      "x": 203,
      "y": 464,
      "width": 80,
      "height": 60,
      "vv": {
        "nodeType": "Monitoring",
        "shape": "diamond",
        "color": "#ef4444"
      },
      "text": "Langfuse",
      "properties": {
        "service": "langfuse"
      }
    },
    {
      "id": "vercel-analytics",
      "type": "text",
      "x": 739,
      "y": 182,
      "width": 80,
      "height": 60,
      "vv": {
        "nodeType": "Monitoring",
        "shape": "diamond",
        "color": "#ef4444"
      },
      "text": "Vercel",
      "properties": {
        "service": "vercel"
      }
    },
    {
      "id": "otel-tracing",
      "type": "text",
      "x": 568,
      "y": 210,
      "width": 80,
      "height": 60,
      "vv": {
        "nodeType": "Monitoring",
        "shape": "diamond",
        "color": "#ef4444"
      },
      "text": "OpenTelemetry",
      "properties": {
        "service": "otel"
      }
    },
    {
      "id": "cached-responses",
      "type": "text",
      "x": -157,
      "y": 250,
      "width": 120,
      "height": 60,
      "vv": {
        "nodeType": "Database",
        "shape": "cylinder",
        "color": "#3b82f6"
      },
      "text": "Cached Responses",
      "properties": {
        "type": "memory"
      }
    }
  ],
  "edges": [
    {
      "id": "app-to-chat-panel",
      "fromNode": "next-app",
      "toNode": "chat-panel",
      "type": "arrow",
      "vv": {
        "edgeType": "Import",
        "color": "#6b7280"
      },
      "properties": {
        "moduleType": "default"
      }
    },
    {
      "id": "app-to-chat-input",
      "fromNode": "next-app",
      "toNode": "chat-input",
      "type": "arrow",
      "vv": {
        "edgeType": "Import",
        "color": "#6b7280"
      },
      "properties": {
        "moduleType": "default"
      }
    },
    {
      "id": "app-to-settings",
      "fromNode": "next-app",
      "toNode": "settings-dialog",
      "type": "arrow",
      "vv": {
        "edgeType": "Import",
        "color": "#6b7280"
      },
      "properties": {
        "moduleType": "default"
      }
    },
    {
      "id": "context-to-app",
      "fromNode": "diagram-context",
      "toNode": "next-app",
      "type": "arrow",
      "vv": {
        "edgeType": "Import",
        "color": "#6b7280"
      },
      "properties": {
        "moduleType": "default"
      }
    },
    {
      "id": "chat-panel-to-api",
      "fromNode": "chat-panel",
      "toNode": "chat-api",
      "type": "arrow",
      "vv": {
        "edgeType": "HTTPRequest",
        "color": "#dc2626"
      },
      "properties": {
        "method": "POST"
      }
    },
    {
      "id": "settings-to-config-api",
      "fromNode": "settings-dialog",
      "toNode": "config-api",
      "type": "arrow",
      "vv": {
        "edgeType": "HTTPRequest",
        "color": "#dc2626"
      },
      "properties": {
        "method": "GET"
      }
    },
    {
      "id": "chat-api-to-openai",
      "fromNode": "chat-api",
      "toNode": "openai-provider",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "chat-api-to-anthropic",
      "fromNode": "chat-api",
      "toNode": "anthropic-provider",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "chat-api-to-azure",
      "fromNode": "chat-api",
      "toNode": "azure-provider",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "chat-api-to-aws",
      "fromNode": "chat-api",
      "toNode": "aws-provider",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "chat-api-to-cache",
      "fromNode": "chat-api",
      "toNode": "cached-responses",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "cache-to-chat-api",
      "fromNode": "cached-responses",
      "toNode": "chat-api",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "chat-api-to-langfuse",
      "fromNode": "chat-api",
      "toNode": "langfuse",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "app-to-vercel",
      "fromNode": "next-app",
      "toNode": "vercel-analytics",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    },
    {
      "id": "app-to-otel",
      "fromNode": "next-app",
      "toNode": "otel-tracing",
      "type": "arrow",
      "vv": {
        "edgeType": "DataFlow",
        "color": "#059669"
      },
      "properties": {
        "dataType": "json"
      }
    }
  ]
}